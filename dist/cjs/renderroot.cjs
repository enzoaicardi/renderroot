"use strict";class t{static t=new t;contexts=new Map;constructorCallbacks=[];disconnectedCallbacks=[]}class n extends HTMLElement{disconnectedCallback;constructor(){super();const n=t.t.constructorCallbacks.shift(),o=t.t.disconnectedCallbacks.shift();if(n)for(const t of n)t(this);this.disconnectedCallback=()=>{if(o)for(const t of o)t(this)}}}const o=document.createElement("div");function r(t){return n=>{const o=t[t.length-1];o&&o.push(n)}}customElements.define("render-root",n),exports.createContext=function(n){const o=(r=n,e)=>{const s=o,c=t.t.contexts.get(s);t.t.contexts.set(s,r);const u=e();return t.t.contexts.set(s,c),u};return o},exports.createRoot=function(n,r){const e=t.t;t.t=r||new t;const s=n();return o.innerHTML=s,t.t=e,o.firstElementChild},exports.renderRoot=function(n){return(...o)=>(t.t.constructorCallbacks.push([]),t.t.disconnectedCallbacks.push([]),"<render-root>"+n(...o)+"</render-root>")},exports.useContext=function(n){return t.t.contexts.get(n)},exports.useLifeCycle=function(){return[r(t.t.constructorCallbacks),r(t.t.disconnectedCallbacks)]},exports.useRoot=function(){return t.t};
